var attempts=0;
var results=0;
var peopleSoft={};
var redirectURLs={};
var Autocomplete=function(a){for(i in a){if(a.hasOwnProperty(i)){switch(i){case"url":this.url=prepareForSuffix(a[i]);
break;
case"page":this.page=(a[i]);
break
}}}this.setup.apply(this,arguments)
};
Autocomplete.prototype={setup:function(){var a=[];
var b=this;
b.handle(a)
},handle:function(a){if($.browser.msie){checkInputs(this)
}else{addAC(this)
}}};
function checkInputs(a){if($("input.autocomplete").length>0){addAC(a)
}else{if(attempts<20){setTimeout(function(){checkInputs(a)
},100)
}}attempts++
}function addAC(f){var a=$("input.autocomplete");
var e;
var c=(function(){var g=$('select[name="pickUpLocation.bookingCountry"]');
if(g.length>0){return function(){return"/bookingCountryCode="+g.val()
}
}else{return function(){return""
}
}})();
function b(g,h){h.data("label",g);
h.data("labelID",peopleSoft[g]);
h.val(peopleSoft[g]);
$(document).trigger("peopleSoftId:changed",[peopleSoft[g],h.attr("name")])
}function d(m,n){var l=m.airport!=""?"hideLocationIcon":"showLocationIcon";
var k=m.boat!=""?"hideLocationIcon":"showLocationIcon";
var h=m.train!=""?"hideLocationIcon":"showLocationIcon";
var g=n.parent().find(".pickUpLocation").length==0?"isDropOff":"isPickUp";
if($(".pleaseStandBy").length>0&&g=="isPickUp"){$(".pickUpLocationDetails span").removeClass("hideLocationIcon showLocationIcon");
$(".pickUpLocationDetails .airplaneLargeIcon").addClass(l);
$(".pickUpLocationDetails .boatLargeIcon").addClass(k);
$(".pickUpLocationDetails .trainLargeIcon").addClass(h)
}else{if($(".pleaseStandBy").length>0&&g=="isDropOff"){$(".dropOffLocationDetails span").removeClass("hideLocationIcon showLocationIcon");
$(".dropOffLocationDetails .airplaneLargeIcon").addClass(l);
$(".dropOffLocationDetails .boatLargeIcon").addClass(k);
$(".dropOffLocationDetails .trainLargeIcon").addClass(h)
}}}$("input.autocomplete").autocomplete({minLength:3,highlight:true,source:function(h,g){e=f.url+c()+"/value="+h.term.toLowerCase()+".json";
$.ajax({url:e,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",cache:true,open:function(k,l){a.removeClass("loading")
},beforeSend:function(){},error:function(){a.removeClass("loading")
},success:function(m){a.removeClass("loading");
$("input.active").removeClass("populated");
$("input.active").parent().children(".locationDelete").remove();
if($("input.active.pickUpLocation").length){$(".pickUpLocationDetails span").removeClass("hideLocationIcon showLocationIcon").addClass("hideLocationIcon")
}if($("input.active.dropOffLocation").length){$(".dropOffLocationDetails span").removeClass("hideLocationIcon showLocationIcon").addClass("hideLocationIcon")
}if(m.locationList){var n=m.locationList;
var k=[];
if($("select[name='pickUpLocation.bookingCountry']").length){var l=$("select[name='pickUpLocation.bookingCountry']").val();
$.each(n,function(o,p){if(p.locationHeavyContainer.address.countryCode===l){k.push(p)
}})
}else{k=n
}g($.map(k,function(w){var r="";
var o="";
var s=false;
var v=w.locationHeavyContainer.address;
var t=(w.detailNodePath!=null)?w.detailNodePath.path:null;
if(f.page=="location"){if(!t){t=getLocationRedirectDefaultURL()+"/location="+w.locationHeavyContainer.peopleSoftId
}else{t=t
}}if(w.locationHeavyContainer.airportLocation){r=w.locationHeavyContainer.displayLocationName;
o=v.city+", ";
if(v.stateProvinceAbbreviation!=null){o+=v.stateProvinceAbbreviation+" "
}if(v.postalCode!=null){o+=v.postalCode
}s=true
}else{if(v.stateProvinceAbbreviation!=null){r=v.city+", "+v.stateProvinceAbbreviation+" - "+w.locationHeavyContainer.locationName;
o=v.city+", "+v.stateProvinceAbbreviation+" "+v.postalCode
}else{r=v.city+" - "+w.locationHeavyContainer.locationName;
o=v.city+", "+v.postalCode
}s=false
}var p=(w.locationHeavyContainer.portOfCallLocation==true)?"":"hideLocationIcon";
var u=(w.locationHeavyContainer.trainStationLocation==true)?"":"hideLocationIcon";
var q=(w.locationHeavyContainer.airportLocation==true)?"":"hideLocationIcon";
peopleSoft[r]=w.locationHeavyContainer.peopleSoftId;
redirectURLs[r]=t;
return{locationUrl:t,label:r,value:r,locAddress:o,ap:s,boat:p,train:u,airport:q}
}))
}else{g(null)
}}})
},peopleSoftId:"",create:function(h,k){var g=$(h.target).closest(".field").find('input[name$="peopleSoftId"]');
this.peopleSoftId=g.attr("id");
if(g.val()!==undefined&&g.val()!==""){g.data("label",$(h.target).val());
g.data("labelID",g.val())
}$(h.target).keyup(function(n){if(n.keyCode===39||n.keyCode===37){var l=$(n.target).val();
b(l,g);
if(f.page=="location"){window.location=redirectURLs[l]+".html"
}}if((n.keyCode>=32&&n.keyCode<37)||(n.keyCode>40&&n.keyCode<=127)||(n.keyCode===8)){if(g.data("label")!==undefined){if(g.data("label").toUpperCase()!==$(n.target).val().toUpperCase()){g.val("")
}else{if(g.data("labelID")!==undefined){g.val(g.data("labelID"))
}else{g.val("")
}}}else{var m=g.attr("id");
$("#"+m).val("")
}}});
$(h.target).data("autocomplete")._renderItem=myRenderFunc
},select:function(h,k){if(f.page=="location"){var g=$(h.target).closest(".field").find('input[name$="peopleSoftId"]');
b(k.item.value,g);
window.location=k.item.locationUrl+".html"
}else{var g=$("#"+this.peopleSoftId);
b(k.item.value,g);
d(k.item,g)
}}})
}$(function(){var a=$(window).width();
$(".locationDelete").live("click",function(){$(this).parent().children(".autocomplete").val("");
$(this).parent().children(".autocomplete").focus();
$(this).parent().children(".autocomplete").removeClass("populated");
$(this).parent().children("input[type=hidden]").val("");
$(this).remove()
});
$(".autocomplete").live("keyup",function(b){if($(this).hasClass("populated")){if(b.keyCode==8){$(this).val("");
$(this).removeClass("populated");
$(this).parent().children(".locationDelete").remove()
}}});
if(!navigator.userAgent.match(/Trident\/7\./)&&!$.browser.msie){$(window).bind("resizeEnd",function(){$(".autocomplete").removeClass("active").blur()
});
window.onresize=function(){if($(this).width()!=a){$("ul.ui-autocomplete").hide();
if(this.resizeTO){clearTimeout(this.resizeTO)
}this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")
},500)
}}
}$("input.autocomplete").live("focus",function(){$(".autocomplete").removeClass("active");
$(this).addClass("active");
if(!$(this).hasClass("populated")){if($("ul.ui-autocomplete li").length>0&&$(this).val()){$(this).autocomplete("search")
}}})
});
function myRenderFunc(c,e){results=0;
var d=new RegExp("^"+this.term,"gi");
var b=e.label.replace(d,"<span style='font-weight:bold;'>"+this.term.toUpperCase()+"</span>");
var f=$("<li></li>").data("item.autocomplete",e).append("<a><span class='autocompleteLocationIcon'><span class='displayLocationIcon displayLocationSmallIcon airplaneSmallIcon "+e.airport+"'></span><span class='displayLocationIcon displayLocationSmallIcon boatSmallIcon "+e.boat+"'></span><span class='displayLocationIcon displayLocationSmallIcon trainSmallIcon "+e.train+"'></span></span>"+b+"<span class='autocmpltAddressInfo'>"+e.locAddress+"</span></a>").appendTo(c);
if(e.ap){f.addClass("airportLocation")
}$("ul.ui-autocomplete li").click(function(){a()
});
$(".autocomplete").live("autocompleteselect",function(g,h){a()
});
function a(){results++;
if(results=="1"){$(".autocomplete.active").addClass("populated");
if(!navigator.userAgent.match(/Trident\/7\./)){$(".autocomplete.active").after('<div class="locationDelete"></div>')
}}}return f
}function blackoutDates(c,d){var e=$("#"+d).val().split("|");
for(i=0;
i<e.length;
i++){var a=e[i].split(",");
if(c.getDate()==a[0]&&c.getMonth()==a[1]-1&&c.getFullYear()==a[2]){return[false]
}}return[true]
}function dateRange(b,a,d,c){if(c&&b>=a&&b<=d){return[true,"dateRange"]
}return[true]
}if($.browser.msie&&$.browser.version<8){$(".hasDatepicker").live("focus",function(a){var b=$("#content").offset().left;
$("#ui-datepicker-div").css("marginLeft",-b)
})
}$(".hasDatepicker").live("focus",function(){if($(window).width()<800){$(this).blur()
}});
var Languages=function(a){for(i in a){if(a.hasOwnProperty(i)){switch(i){case"url":this.url=a[i];
break;
case"navigationDivId":this.navigationDivId=a[i];
break
}}}this.build.apply(this,arguments)
};
Languages.prototype={build:function(){var b;
var c=this;
var a=$("#"+c.navigationDivId);
$.ajax({url:c.url,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"get",success:function(h){var f=h.countries;
var l=getLocaleCookieValue();
var e=$("<ol>",{"class":"langnavi"});
$.each(h.countries,function(n,o){if(l.countryCode==o.code){var p=o.code;
$.each(o.locales,function(q,r){if(r.code==currentLocale){b=$("<li>").text(r.name).attr("class","selected")
}else{r.url=window.location.pathname;
r.url=r.url.replace(l.languageCode,r.code);
b=$("<li>").append($("<a>",{text:r.name,href:r.url+window.location.search,title:r.name,tabindex:"2"}))
}e.append(b)
});
a.prepend(e)
}});
var d=15000;
var g=0;
if($("header").length){k()
}else{var m=setInterval(function(){if($("header").length||g>d){clearInterval(m);
k()
}g+=50
},50)
}function k(){if(!$(".header-full").length){var o=$("header .mainNavigation");
var p=$("<nav></nav>").attr("class","main");
var n=$("<ul></ul>").attr("class","subsecondary");
var q=$("<li></li>").attr("class","subnav lang-nav");
var r=$(".globeIcon");
q.append(r.clone());
n.append(q);
p.append(n);
o.append(p)
}$(".lang-nav").append(e.clone())
}}})
}};
var placeholders=function(){};
/*@cc_on
var placeholders = function()
{
  $("[placeholder]:not(:password)").each(function()
  {
    var $this = $(this);

    var placeholder = $(this).attr("placeholder");

    if ($(this).val() === "")
    {
      $this.val(placeholder);
    }
    $this.bind("focus", function()
    {
      if ($(this).val() === placeholder)
      {
       
        $(this).val("");
      }
    });
    $this.bind("blur", function()
    {
      if ($(this).val() === "" && $(this).val() !== placeholder)
      {
        $(this).val(placeholder);
      }
    });
  });
}
$(function()
{
  placeholders();
})
@*/
;
$(function(){var b=$('<div id="bubble"></div>');
var a;
$("a.helper").live("mouseover",function(){var d=$(this);
var c=d.position();
a=$.data(this,"title",d.attr("title"));
b.html(a).addClass("tooltip").css("left",(c.left-32)+"px").css("top",(c.top+24)+"px");
d.removeAttr("title").parent().append(b)
}).live("mouseout",function(){b.remove()
}).live("click",function(){return false
})
});
$("a.print").live("click",function(){if($("#modal").css("display")=="block"){$("#printReservation").addClass("hideModal")
}else{$("#printReservation").removeClass("hideModal")
}if($(this).attr("class").indexOf("rentalAgreement")!==-1){$("#printRentalAgreement").html($(".agreement").html())
}window.print();
return false
});
$("a.printAndClose").live("click",function(){$("#modal, #mask").addClass("hideFromPrint");
$("#printReservation").removeClass("hideModal");
window.print();
$("#modal, #mask").hide();
return false
});
$("a.closeWindow").live("click",function(){window.close()
});
var toggleSection={init:function(){$(".toggle:checked").each(function(a){toggleSection.doToggle(this.id)
})
},doToggle:function(a){$("#"+a+"-container").toggleClass("on");
if($("#"+a+"-container").hasClass("on")){$("#"+a+"-container").attr("aria-expanded","true")
}else{$("#"+a+"-container").removeAttr("aria-expanded")
}return false
}};
$(function(){toggleSection.init();
$(".toggle").live("click",function(){toggleSection.doToggle(this.id)
})
});
$(".twist dl dt,.twistNew dl dt,.twist .dl .dt").live("click",function(){$(this).parent().toggleClass("open");
ko.postbox.publish("twisty.click",$(this).parent().attr("class"));
if($(this).parent().hasClass("open")){$("[name='airlineInformation'], [name='additionDriverInfomation']").val("on");
$(this).parent().attr("aria-expanded","true")
}else{$("[name='airlineInformation'], [name='additionDriverInfomation']").val("");
$(this).parent().removeAttr("aria-expanded")
}return false
});
$(".notFirstName a").live("click",function(a){a.stopPropagation()
});
var cmShowHide=function(){var b=null;
var a=null;
$.each([".ai a",".anon a",".recog a"],function(c,d){$(d).each(function(){a=$(this);
if(a.is(":visible")){a.attr({manual_cm_re:a.attr("hidden_cm_re"),manual_cm_sp:a.attr("hidden_cm_sp")})
}else{a.removeAttr("manual_cm_re");
a.removeAttr("manual_cm_sp")
}a=null;
b=null
})
})
};
var showHide=function(a){var b=userState();
$("."+b).show();
if(typeof a!=="undefined"&&a==true){cmShowHide(a)
}return b
};
$(function(){showHide()
});
$(function(){checkRequired();
$(window).trigger("scroll");
$(".dismiss").live("click",function(){$(this).parent().remove();
$(window).trigger("scroll")
})
});
var doi={};
var appendURL=function(c){var a;
if(c=="rentalPolicies"){if(getContractCookieValueNull()&&getReservationCookieValueNull()){var d=getContractCookieValue();
var b=getReservationCookieValue();
a="/"+d.customerNumber+"/"+b.pickUpLocationCode+".html"
}}return a
};
var createHiddenFields=function(b,c){if(typeof b.secureToken!="undefined"&&b.secureToken!=null){var a;
if(b.secureToken){a=b.secureToken
}if(typeof b.secureToken.value!="undefined"){a=b.secureToken.value
}$("<input>").attr({type:"hidden",name:"secureToken",value:a}).appendTo($(c))
}if(window.secureToken2Global){$("<input>").attr({type:"hidden",name:"secureToken2",value:window.secureToken2Global}).appendTo($(c))
}};
var appendCustomerNumberSuffix=function(a){if(getContractCookieValueNull()&&null!=a){var b=getContractCookieValue();
switch(b.length){case 2:a=a.replace(".html",".partner.html/customerNumber="+b[0]);
break;
default:a=a.replace(".html",".partner.html/customerNumber="+b.customerNumber)
}}return a
};
var createValidId=function(b){var a=b.replace(/\.|\[|\]/g,"_");
return a
};
var getCurrency=function(a){return a
};
var getFrequency=function(b,d){var c=b;
var a;
switch(c){case"D":a=d.labels.per_day_text;
break;
case"W":a=d.labels.per_week_text;
break;
case"M":a=d.labels.per_month_text;
break
}return a
};
var getMessages=function(c,e){var d=(e.modalSubmit)?$("#modalTop"):$("#top");
var b=$("p");
if(e.clearMessages==true){b.filter(".error, .info, .success").remove();
$(e.formId+" input, "+e.formId+" select").removeAttr("aria-describedby aria-invalid")
}if(c.messageList){var a="";
if(c.messageList!=false&&c.messageList.length>0){$("body").trigger("analyticsMessageListData",[{messageList:c.messageList}])
}$.each(c.messageList,function(k,g){var h=createValidId(g.code);
for(j in e.labels){if(g.code==j){g.message=e.labels[j]
}}var o=$("<p></p>");
var n=$("<span class='message-text'></span>");
var l=$("<button class='dismiss'></button>");
if((typeof g.scope!=="undefined"&&g.scope=="global")||(typeof g.messageScope!=="undefined"&&g.messageScope=="GLOBAL")){g.message=null==e.labels[h]?g.message:e.labels[h];
if(null==g.message||0==g.message.length){g.message=e.labels.global_error
}o.append(l,n);
d.append(o);
n.html(g.message)
}else{if((typeof g.scope!=="undefined"&&g.scope=="field")||(typeof g.messageScope!=="undefined"&&g.messageScope=="FIELD")){var f=createValidId(g.fieldName);
var m=$(e.formId+"_"+f);
g.message=null==e.labels[f+"_"+h]?g.message:e.labels[f+"_"+h];
if(null==g.message||0==g.message.length){g.message=e.labels.field_error
}if(m.length){o.html(g.message).attr("id",f+"_error");
m.parent().prepend(o);
m.attr({"aria-describedby":f+"_error","aria-invalid":"true"});
if(a===""){a=m
}}else{o.append(l,n);
d.append(o);
n.html(g.message);
$(window).trigger("scroll");
if($(".meta-menu").length){$(".utilities ."+f+" .field").prepend(o.clone().addClass(g.severity).addClass(g.messageSeverity).html(g.message))
}}}}o.addClass(g.severity).addClass(g.messageSeverity);
o.attr("role","alert")
});
if(a!==""){if(a.prev("label").offset()){$("html, body").scrollTop(a.prev("label").offset().top)
}setTimeout(function(){a.trigger("focus")
},2500)
}}if($("div#content .title h1").length){d.css("background-color",$("div#content .title h1").css("background-color"))
}};
var timeoutID;
function scroller(){if($("#top > p").length){var a=$("#top").offset().top;
$("#top > :not(p, script)").each(function(){a+=$(this).has("#progressBar")?$("#progressBar").outerHeight(true):$(this).outerHeight(true)
});
if($(this).scrollTop()>a){$("#top").addClass("fixed");
var b=0;
$("#top > p").each(function(){$(this).css("top",b);
b+=$(this).outerHeight()
})
}else{$("#top").removeClass("fixed");
$("#top > p").each(function(){$(this).css("top",0)
})
}}}$(window).bind("scroll",function(){window.clearTimeout(timeoutID);
timeoutID=window.setTimeout(scroller,200)
});
var getRedirect=function(a,b){if(a.redirect){$.each(a.redirect,function(d,c){if(d=="forward"){for(j in b.forwards){if(c==j){window.location=b.forwards[j]
}}}})
}};
var getFill=function(a,b){if(a.inputFieldList){$.each(a.inputFieldList,function(d,e){var c=createValidId(e.fieldName);
var f=$(b.formId+"_"+c);
if(e.value){f.val(e.value)
}if(e.checked){f.prop("checked",true)
}if(e.show==false){if(!f.closest(".field").hasClass("block")){f.closest(".field").next().removeClass("block")
}f.closest(".field").css("display","none")
}})
}};
var getShowHideFlag=function(a,b){if(a.showHideFlagList){$.each(a.showHideFlagList,function(c,d){for(j in b.labels){if(d.id==j){d.id=b.labels[j]
}}if(d.show==false){$("#"+d.id).css("display","none")
}})
}};
var getDisplayInformation=function(b,c){if(b.startDisplayInformation){var a=b.startDisplayInformation;
if(a.discounts){$.each(a.discounts,function(e,g){for(j in c.labels){if(g.id==j){g.id=c.labels[j]
}}var d=$("#"+g.id+" em");
d.html(g.name+c.labels.discountApplied);
if(!g.enableRemoval){var f=$("#"+g.id+" a");
f.css("display","none")
}})
}}};
var checkRequiredField=function(a){var d=false;
var b=$(".required").parents("form").attr("id");
if($(".last-minute-list").length>0){if($("input[name="+a+"]:radio.required").is(":checked")){$("input:radio[name="+a+"]").parents().siblings("a").addClass("modal").removeClass("disabled").unbind("click")
}else{$(".last-minute-list a.submit").removeClass("modal").addClass("disabled").bind("click",function(f){f.preventDefault()
})
}}else{$("input:text.required").each(function(f){if(!$(this).val()){d=true
}});
if($("input:checkbox.required").length){if(!$("input:checkbox.required").is(":checked")){d=true
}}$("select.required option:selected").each(function(f){if(!$(this).val()){d=true
}});
if(d==true){if($(".signupBtn").length>0){var e=($("div#modal").css("display")=="block")?$(".signupBtn"):$(".signupBtn");
e.addClass("disabled").attr("disabled",true);
e.addClass("disabled").bind("click",function(f){f.preventDefault()
})
}else{var c=($("div#modal").css("display")=="block")?$("#"+b+" .submit"):$(".submit","#content");
c.addClass("disabled").attr("disabled",true);
c.addClass("disabled").bind("click",function(f){f.preventDefault()
})
}}else{$("input.submit").removeClass("disabled").attr("disabled",false).removeAttr("disabled");
$("a.submit").removeClass("disabled").attr("disabled",false).removeAttr("disabled").unbind("click")
}}};
var checkRequired=function(){checkRequiredField();
$("input.required").keyup(function(){checkRequiredField()
});
$("input:checkbox.required").click(function(){checkRequiredField()
});
$("input:radio.required").click(function(){checkRequiredField(this.name)
});
$("select.required").change(function(){checkRequiredField()
});
$("select.required").keyup(function(){checkRequiredField()
})
};
var states=function(b){var a;
if(b=="United States"){a=USStates
}else{a=CanadaStates
}$("select.stateSelect").html("");
$.each(a,function(c,d){$("select.stateSelect").append($("<option>",{value:c}).text(d))
})
};
String.prototype.interpolate=function(a){return this.replace(/#{([^{}]*)}/g,function(c,b){var d=a[b];
if(typeof d==="string"){d=d.replace(/</g,"&lt;");
d=d.replace(/>/g,"&gt;")
}return typeof d==="string"||typeof d==="number"?d:c
})
};
var gup=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var a="[\\?&]"+b+"=([^&#]*)";
var d=new RegExp(a);
var c=d.exec(window.location.href);
if(c==null){return""
}else{return c[1]
}};
var getSFX=function(b){if(window.location.href.indexOf(b+"=")!==-1){var c=window.location.href.indexOf(b+"=")+(b.length+1);
var a=(window.location.href.substring(c).indexOf("/")!==-1)?window.location.href.substring(c).indexOf("/")+c:window.location.href.substring(c).indexOf(".html")+c;
return unescape(window.location.href.substring(c,a))
}else{return""
}};
var suffix=function(){var b="http://alamo.com/content/en_US/results.html/country=US/state=US_IL/city=US_IL_Chicago/flexible=true/offset=3.html";
var c=new RegExp(".html(.*)$");
var a=c.exec(window.location);
if(a==null){return""
}else{return a[1]
}};
var forward=function(b,a){$(".submit","#"+a).click(function(e){e.preventDefault();
var d="";
var c=$("#"+a).serialize().split("=")[1];
var g="/country="+c.split("_")[0];
var f="/state="+c;
d=b+".html"+g+f+".html";
window.location=d
})
};
var trackScrollPosition=function(){var a=(document.all)?document.documentElement.scrollTop:window.pageYOffset;
setCookie("ypos",a)
};
var updateScrollbarPosition=function(){if(getCookie("ypos")){window.scrollTo(0,Number(getCookie("ypos")))
}};
$(".trackScrollPosition").live("click",function(){trackScrollPosition()
});
var pleaseStandBy=function(){$(".pleaseStandBy, #pleaseStandBy").show().css({height:$(document).height()+"px",width:$(document).width()+"px"});
$("div#tiles, div.header, div.top-alert").hide()
};
var getComponentName=function(a){if(a.name){return a.name
}else{if(a.toString().match(/^function\s*([^\s(]+)/)){return a.toString().match(/^function\s*([^\s(]+)/)[1]
}}};
doi.build=function(a){var b="";
for(i in a){if(a.hasOwnProperty(i)){switch(i){case"ext":this.ext=a[i].replace(/\s+/g,"");
break;
case"size":this.size=a[i];
break;
case"resolution":this.resolution=a[i];
break;
case"lastModified":this.lastModified=a[i];
break;
case"imageStyle":this.imageStyle=a[i];
break;
default:this.src=a[i]
}}b=this.src+".doi."+this.size+"."+this.resolution+"."+this.imageStyle+"."+this.ext+"/"+this.lastModified+"."+this.ext
}return b
};
var RightNow=function(a){this.rightNowEmail=ko.observable(a.urls.email);
this.chat=ko.observable(a.urls.chat);
this.hours=ko.observable(a.urls.hours);
this.chatAvailable=ko.observable(false);
this.launchEmail=function(){window.open(rightNowEmail(),"_blank")
}
};
var RightNowLocations=function(a){this.urls=ko.observable(a.urls);
this.launchEmail=function(b){window.open(urls()[b],"_blank")
}
};
$(function(){$("#view-country-button").on("click",function(){window.location=$(".locationDD").val()
})
});
var travelMonth=function(){var a=datepicker_defaults.monthNames;
var b=[];
var e=new Date();
for(i=0;
i<=12;
i++){var c=new Date(e.getFullYear(),e.getMonth()+i);
if(a){b.push(a[c.getMonth()]+" "+c.getFullYear())
}}return b
};
ko.bindingHandlers.blockCurrentViewModel={init:function(b,c,d,a){return{controlsDescendantBindings:true}
},update:function(b,c,d,a){return{controlsDescendantBindings:true}
}};
ko.virtualElements.allowedBindings.blockCurrentViewModel=true;
ko.bindingHandlers.authorVars={init:function(b,c,d,a){},update:function(b,c,e,a){var d=ko.utils.unwrapObservable(c());
var f=function(g,k,h){var l=g.replace("#{","").replace("}","");
if(typeof d[l]==="undefined"){return g
}return ko.utils.unwrapObservable(d[l])
};
$(b).html($(b).html().replace(/#\{[a-zA-Z_-]*\}/gm,f))
}};
ko.bindingHandlers.visibleif={init:function(){return ko.bindingHandlers["if"].init.apply(this,arguments)
},update:function(){ko.bindingHandlers.visible.update.apply(this,arguments);
return ko.bindingHandlers["if"].update.apply(this,arguments)
}};
ko.bindingHandlers.visibleifnot={init:function(){return ko.bindingHandlers.ifnot.init.apply(this,arguments)
},update:function(){ko.bindingHandlers.visible.update.apply(this,arguments);
return ko.bindingHandlers.ifnot.update.apply(this,arguments)
}};
ko.bindingHandlers.uid={init:function(b,c,d,a){if(typeof $(b).attr("uid")==="undefined"){$(b).attr("uid","UID"+(Math.random()+"").substring(2));
$(b).attr("id",$(b).attr("uid"))
}},update:function(b,c,d,a){}};
ko.bindingHandlers.uidFromParent={init:function(c,d,e,b){var a=ko.utils.unwrapObservable(d());
$(c).attr("uid",$(c).parent().attr("uid"));
$(c).attr("id",$(c).parent().attr("uid")+a)
},update:function(b,c,d,a){}};
ko.bindingHandlers.formatPhoneNumber={init:function(c,d,f,b,a){var e=ko.utils.unwrapObservable(d());
$(c).text("("+e.substr(0,3)+") "+e.substr(3,3)+"-"+e.substr(6,4))
}};
ko.bindingHandlers.amountWithCurrencySymbol={init:function(d,e,g,c,a){var f=ko.utils.unwrapObservable(e());
var b=a.$data.currencySymbol();
$(d).text(b+f)
}};
ko.bindingHandlers.amountPerUnit={init:function(c,e,b,h,d){var g=ko.utils.unwrapObservable(e());
var f=d.$data.currencySymbol();
var k=d.$data.rateUnitTypeCode();
var a=d.$data.quantity();
if(a!=1){$(c).text(a+" @ "+f+g+"/"+k)
}else{$(c).text(f+g+"/"+k)
}}};
var removeLink=function(a){for(i in a){if(a.hasOwnProperty(i)){switch(i){case"url":this.url=a[i];
break;
case"linkId":this.linkId=a[i];
break;
case"editLinkId":this.editLinkId=a[i];
break;
case"submitType":this.submitType=a[i];
break;
case"labels":this.labels=a[i];
break;
case"formId":this.formId=a[i];
break;
case"applySection":this.applySection=a[i];
break
}}}this.setup.apply(this,arguments)
};
removeLink.prototype={setup:function(){var b=$("#"+this.linkId);
var a=$("#"+this.editLinkId);
var c=this;
$(c.formId).ajaxForm();
b.live("click",function(){$.ajax({url:c.url,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:c.submitType,beforeSend:function(){},error:function(){},success:function(e){if(e.results){if(e.results.success==true){var d={type:"GET",success:function(){window.location=$(c.formId).attr("action")
}};
$(c.formId).ajaxSubmit(d)
}if(e.results.success==false){if(e.messages){$.each(e.messages,function(h,l){for(j in c.labels){if(l.code==j){l.message=c.labels[j]
}}if(l.scope=="global"){var k=$("#top p#"+l.code);
if(k){k.remove()
}$("#top").append('<p class="'+l.severity+'" id="'+l.code+'">'+l.message+"</p>")
}if(l.scope=="field"){for(j in c.labels){if(l.fieldName==j){var f=c.labels[j]
}}var m=$("#"+f);
var g=$("#"+f+" .error");
if(g){g.remove()
}m.prepend('<p class="'+l.severity+'">'+l.message+"</p>")
}})
}}}}});
return false
});
if(a){a.live("click",function(){$("#"+c.applySection).css("display","block");
$(this).parent().parent().css("display","none");
return false
})
}}};
window.submitInProgress=false;
window.activateSpinner=function(b,a){if(a===true&&window.submitInProgress===true){return false
}var c={};
if(b!=null){c=$(b)
}else{return true
}if(a===true){window.submitInProgress=true;
c.addClass("loadingLink disabled")
}else{window.submitInProgress=false;
c.removeClass("loadingLink disabled");
$("[type=password]:not(.persist-password)").val("")
}};
var FormHandler=function(a){for(i in a){if(a.hasOwnProperty(i)){switch(i){case"name":this.name=a[i];
break;
case"url":this.url=a[i];
break;
case"formId":this.formId=a[i];
break;
case"labels":this.labels=a[i];
break;
case"submitType":this.submitType=a[i];
break;
case"forwards":this.forwards=a[i];
break;
case"modalSubmit":this.modalSubmit=a[i];
break;
case"resubmittable":this.resubmittable=a[i];
break;
case"parentRefresh":this.parentRefresh=a[i];
break;
case"modalClose":this.modalClose=a[i];
break;
case"confirmation":this.confirmation=a[i];
break;
case"clearMessages":this.clearMessages=a[i];
break;
case"success":this.success=a[i];
break;
case"error":this.error=a[i];
break
}}}this.setup.apply(this,arguments)
};
FormHandler.prototype={setup:function(){var c=this;
var b=$("#top");
var a=c.formId;
if(c.formId.indexOf("#")>-1){a=c.formId.substr(1)
}$(this.formId).keypress(function(d){if(d.which===13){if(d.target.tagName.toUpperCase()!=="A"&&d.target.tagName.toUpperCase()!=="SELECT"&&(!$(d.target).hasClass("autocomplete"))&&(!$(d.target).hasClass("dt"))){$(".submit#"+a+"_submit").click();
return false
}}});
if($("div#content .title h1").length){b.css("background-color",$("div#content .title h1").css("background-color"))
}if(!c.clearMessages){c.clearMessages=true
}$(this.formId).ajaxForm();
$(".submit#"+a+"_submit").live("click",function(){var f=$("#top");
var d=$(this).attr("href");
var e=this;
if($(this).hasClass("disabled")){return false
}$.ajax({url:c.url,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:$(c.formId).serialize(),type:c.submitType,beforeSend:function(){if(activateSpinner(e,true)===false){return false
}},complete:function(h,k){var g=$.parseJSON(h.responseText);
if(k!=="success"||(g.messageList!=null&&(g.messageList.length==null||g.messageList.length>0))){activateSpinner(e,false)
}},error:function(){if(typeof c.error==="function"){c.error()
}f.append('<p role="alert" class="error">'+c.labels.server_error+"</p>");
f.css("position","relative");
$(e).removeClass("disabled")
},success:function(k){if(typeof c.success==="function"){c.success(k)
}if(typeof _hooks!=="undefined"&&typeof aProcessHooks!=="undefined"&&typeof c.name!=="undefined"){aReady(aProcessHooks(k,_hooks,"POST",c.name))
}if(k.messageList){getMessages(k,c)
}else{var n,m,l;
var g=[];
var m=pm="";
if(c.confirmation){$(c.formId).parents(".modal-form").hide();
$(c.confirmation).show()
}$.each(k.redirect,function(p,o){if(p=="forward"){for(j in c.forwards){if(o==j){if(c.modalSubmit==true){var r=$("#modal");
var q=$("#modal div.content");
if(c.parentRefresh==true){if(typeof c.success==="function"&&typeof aReady==="function"){aReady(function(){window.location.reload(true)
},false,250)
}else{window.location.reload(true)
}}else{if(c.modalClose==true){$("#modal, #mask").hide()
}else{$.ajax({url:c.forwards[j],dataType:"html",contentType:"application/x-www-form-urlencoded; charset=UTF-8",error:function(){},success:function(s){if(typeof c.success==="function"){c.success()
}if(typeof _hooks!=="undefined"&&typeof aProcessHooks!=="undefined"&&typeof c.name!=="undefined"){aReady(aProcessHooks(k,_hooks,"POST",c.name))
}r.removeClass("loading");
q.empty();
q.append(s)
}})
}}}else{n=c.forwards[j]
}}}}if(p=="parameterList"){$.each(o,function(t,s){var u=s.name+"="+s.value;
g.push(u)
})
}if(p=="suffix"&&o!=null){m="/"+o
}});
for(j=0;
j<g.length;
j++){pm+=g[j]+"&"
}var h="";
if(pm.length>0){h+="?"+pm.substring(0,pm.length-1)
}if(c.modalSubmit!=true){if(typeof c.success==="function"&&typeof aReady==="function"){aReady(function(){window.location=n+h+m
},false,250)
}else{window.location=n+h+m
}}if(c.resubmittable){activateSpinner(e,false)
}}}});
return false
})
}};
var getHandler=function(a){for(i in a){if(a.hasOwnProperty(i)){switch(i){case"name":this.name=a[i];
break;
case"url":this.url=a[i];
break;
case"tableId":this.tableId=a[i];
break;
case"formId":this.formId=a[i];
break;
case"labels":this.labels=a[i];
break;
case"submitType":this.submitType=a[i];
break;
case"forwards":this.forwards=a[i];
break;
case"custom":this.custom=a[i];
break;
case"clearMessages":this.clearMessages=a[i];
break;
case"success":this.success=a[i];
break;
case"error":this.error=a[i];
break
}}}this.setup.apply(this,arguments)
};
getHandler.prototype={setup:function(){var top=$("#top");
var _this=this;
secureToken2Promise.then(function(){$.ajax({cache:true,type:_this.submitType,url:_this.url,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",error:function(){if(typeof _this.error==="function"){_this.error()
}top.append('<p role="alert" class="error">'+_this.labels.generic_global_error+"</p>");
top.css("position","relative")
},success:function(data){if(typeof _this.success==="function"){_this.success(data)
}if(typeof _hooks!=="undefined"&&typeof aProcessHooks!=="undefined"&&typeof _this.name!=="undefined"){aReady(aProcessHooks(data,_hooks,"GET",_this.name))
}createHiddenFields(data,_this.formId);
var functions=[getFill,getShowHideFlag,getDisplayInformation,checkRequired,getRedirect];
for(i=0;
i<functions.length;
i++){functions[i](data,_this)
}getMessages(data,_this);
if(_this.custom){var temp=_this.custom;
eval(temp)(data,_this)
}}})
})
}};
var previousSearch=function(a){if(getCookie(a)){$(".previousSearch").show().attr("href",function(c,b){return b+getCookie(a)
})
}else{$(".previousSearchSpan").hide()
}};
$(".flex").live("click",function(){$(this).each(function(a){$("#flexDates-container").toggleClass("on");
flexible()
})
});
var flexible=function(){var a=$("span.pickupDate input, span.returnDate input");
if($("#flexDates-container").hasClass("on")){a.attr("disabled","disabled").addClass("disabled")
}else{a.removeAttr("disabled").removeClass("disabled")
}};
var dealFinder=function(a){var d=this;
var c;
this.countriesJSON=url.countriesJSON;
this.statesJSON=prepareForSuffix(url.statesJSON);
this.citiesJSON=prepareForSuffix(url.citiesJSON);
this.countryStateProvinceJSON=url.countryStateProvinceJSON;
getSFX("country")?c=getSFX("country"):c=getLocaleCookieValue().countryCode;
this.countriesStateProvince=ko.observableArray([]);
this.countries=ko.observableArray([]);
this.selectedCountry=ko.observable(c);
this.statesProvinces=ko.observableArray([]);
this.selectedState=ko.observable();
this.hasCountry=ko.observable(false);
this.cities=ko.observableArray([]);
this.travelMonths=ko.observableArray([]);
this.selectedMonth=ko.observable();
this.flexDates=ko.observable(false);
this.pickupDate=ko.observable();
this.returnDate=ko.observable();
this.selectedCity=ko.observable();
this.check=ko.observable(true);
this.deal_insider=ko.observable(true);
this.deal_customer=ko.observable();
this.searchedCity=ko.observable("");
this.searchedState=ko.observable("");
this.searchedCountry=ko.observable("");
this.searchedOffset=ko.observable("");
this.searchedStartTravelMonth=ko.observable("");
this.searchedEndTravelMonth=ko.observable("");
$.ajax({url:countryStateProvinceJSON,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"GET",success:function(f){var e=d.countriesStateProvince();
$.each(f.countries,function(g,h){e.push(h)
});
d.countriesStateProvince(e)
}});
if(travelMonth()){$.each(travelMonth(),function(e,f){d.travelMonths.push({id:e,name:f})
})
}this.activateCity=ko.observable(false);
var b=d.countries();
$.each(a.countries,function(e,f){b.push({id:f.countryCode,name:f.name});
if(f.countryCode===getSFX("country").toUpperCase()){d.searchedCountry(f.name)
}});
d.countries.valueHasMutated();
this.selectedCountry.subscribe(function(){getStates(d)
},this);
this.selectedState.subscribe(function(){if(d.countriesStateProvince.indexOf(d.selectedCountry())>=0){getCities(d)
}},this);
(getSFX("country"))?prevSearch(d):getStates(d)
};
var prevSearch=function(a){if(getSFX("country")&&getSFX("state")){a.selectedCountry(getSFX("country").toUpperCase());
getStates(a,getSFX("state"));
a.deal_insider(false)
}else{if(getSFX("country")){a.selectedCountry(getSFX("country").toUpperCase());
getStates(a);
a.deal_insider(false)
}}if(getSFX("city")){getCities(a,getSFX("city"))
}if(getSFX("offset")){a.selectedMonth(getSFX("offset"));
this.searchedOffset(travelMonth()[getSFX("offset")])
}if(getSFX("flexible")){a.flexDates(getSFX("flexible"));
$("#flexDates-container").toggleClass("on");
flexible()
}if(getSFX("start")){a.pickupDate(dateConversion(getSFX("start")));
this.searchedStartTravelMonth(dateConversion(getSFX("start")))
}if(getSFX("end")){a.returnDate(dateConversion(getSFX("end")));
this.searchedEndTravelMonth(dateConversion(getSFX("end")))
}if(getSFX("insider")){a.deal_insider(true)
}if(getSFX("customer")){a.deal_customer(getSFX("customer"))
}};
var getStates=function(c,b){if(!c.selectedCountry()){return null
}c.cities([]);
c.activateCity(false);
var a=c.statesJSON+"/country="+c.selectedCountry()+".json";
$.ajax({url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(d){c.hasCountry(true);
c.statesProvinces([]);
if(!$.isEmptyObject(d.statesProvinces)){c.activateCity(false);
var e=c.statesProvinces();
$.each(d.statesProvinces,function(f,g){e.push({id:g.stateProvinceCode,name:g.name});
if(g.stateProvinceCode===getSFX("state")){c.searchedState(g.name)
}});
c.statesProvinces.valueHasMutated();
if(b){c.selectedState(b);
c.activateCity(true)
}}else{c.selectedState([]);
getCities(c,b)
}}})
};
var getCities=function(b){b.activateCity(true);
if(this.countriesStateProvince.indexOf(this.selectedCountry())>=0){if(!b.selectedState()){return null
}}if(b.selectedState()&&b.selectedState().length){var a=b.citiesJSON+"/country="+b.selectedCountry()+"/stateProvince="+b.selectedState()+".json"
}else{b.hasCountry(false);
b.statesProvinces([]);
var a=b.citiesJSON+"/country="+b.selectedCountry()+".json"
}$.ajax({url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(d){b.cities([]);
var c=b.cities();
$.each(d.cities,function(e,f){c.push({id:f.cityCode,name:f.name});
if(f.cityCode===getSFX("city")){b.searchedCity(f.name)
}});
b.cities.valueHasMutated();
if(getSFX("city")&&b.check()){b.selectedCity(getSFX("city"));
b.check(false)
}}})
};
var dateConversion=function(b){var a=$.datepicker.parseDate("yymmdd",b);
return $.datepicker.formatDate(datepicker_defaults.dateFormat,a)
};
var CountryLanguage=function(b,c){this.elementID=b;
var d=this;
for(i in c){if(c.hasOwnProperty(i)){switch(i){case"url":this.url=c[i];
break
}}}this.build.apply(this,arguments);
$("#"+this.elementID+"_langSelectButton").live("click",function(){var f=$("select[name='countries']");
var g=$("select[name='languages']");
var e=$("select[name='languages'] option:selected").attr("data-code");
setLocaleCookie(f.val()+"|"+e+"|"+g.val());
document.location=g.val()
});
var a=document.createElement("DIV");
$("#"+this.elementID+"_countryLanguage").live("click",function(){var e=$(this).position();
a.id=a.className="navmask";
if(!document.getElementById("navmask")){$("body, header").append(a)
}else{$(".navmask").toggle()
}$("ul#"+d.elementID+"_langSelect").css({left:e.left-9,top:e.top+17}).toggleClass("hidden");
$("ul#"+d.elementID+"_selector").toggleClass("selected");
return false
});
$(".navmask").live("click",function(){$("div.navmask").hide();
$("ul#"+d.elementID+"_langSelect").toggleClass("hidden");
$("ul#"+d.elementID+"_selector").removeClass("selected")
})
};
CountryLanguage.prototype={build:function(){var a=this;
$.ajax({url:a.url,dataType:"json",beforeSend:function(){},error:function(){},success:function(d){$("a.countryLanguage").attr("uid","homepage");
var b=$("select[name='countries']");
var e=$("select[name='languages']");
var f=getLocaleCookieValue();
var g=[];
$.each(d.countries,function(h,k){g.push(k)
});
var c=function(k,h){var m=k.name.toLowerCase();
var l=h.name.toLowerCase();
return((m<l)?-1:((m>l)?1:0))
};
g.sort(c);
$.each(g,function(h,k){var l;
switch(f.countryCode){case k.code:l='<option value="'+k.code+'" selected="selected">'+k.name+"</option>";
$(".meta-nav-top .country-lang").html('<a href="javascript:;">'+k.name+" / ");
break;
default:l='<option value="'+k.code+'">'+k.name+"</option>"
}b.append(l)
});
$.each(g,function(h,k){if(f.countryCode==k.code){var l=k.code;
$.each(k.locales,function(n,o){var m;
o.url=window.location.pathname;
o.url=o.url.replace(f.languageCode,o.code);
switch(f.languageCode){case o.code:m='<option value="'+o.url+'" data-code="'+o.code+'" selected="selected">'+o.name+"</option>";
$("#"+a.elementID+"_countryLanguage").text(l+" / "+o.name.toUpperCase());
$(".meta-nav-top .country-lang a").append(o.name).append("</a>");
break;
default:m='<option value="'+o.url+'" data-code="'+o.code+'">'+o.name+"</option>"
}e.append(m)
})
}});
b.live("change",function(){var h=$(this);
e.empty();
$.each(d.countries,function(k,l){if(h.val()==l.code){$.each(l.locales,function(n,o){var m;
o.url=window.location.pathname;
o.url=o.url.replace(f.languageCode,o.code);
switch(f.languageCode){case o.code:m='<option value="'+o.url+'" data-code="'+o.code+'" selected="selected">'+o.name+"</option>";
break;
default:m='<option value="'+o.url+'" data-code="'+o.code+'">'+o.name+"</option>"
}e.append(m)
})
}})
})
}})
}};
var lmsFinder=function(a){var c=this;
var b;
this.countriesJSON=url.countriesJSON;
this.statesJSON=prepareForSuffix(url.statesJSON);
this.citiesJSON=prepareForSuffix(url.citiesJSON);
getSFX("country")?b=getSFX("country"):b=getLocaleCookieValue().countryCode;
this.countries=ko.observableArray([]);
this.selectedCountry=ko.observable(b);
this.statesProvinces=ko.observableArray([]);
this.selectedState=ko.observable();
this.hasCountry=ko.observable(false);
this.cities=ko.observableArray([]);
this.selectedCity=ko.observable();
this.check=ko.observable(true);
this.deal_customer=ko.observable();
this.searchedCity=ko.observable("");
this.searchedState=ko.observable("");
this.searchedCountry=ko.observable("");
this.activateCity=ko.observable(false);
$.each(a.countries,function(d,e){c.countries.push({id:e.countryCode,name:e.name});
if(e.countryCode===getSFX("country").toUpperCase()){c.searchedCountry(e.name)
}});
this.selectedCountry.subscribe(function(){lmsGetStates(c)
},this);
this.selectedState.subscribe(function(){if(c.selectedCountry()=="US"||c.selectedCountry()=="CA"){lmsGetCities(c)
}},this);
(getSFX("country"))?lmsPreviousSearch(c):lmsGetStates(c)
};
var lmsPreviousSearch=function(a){if(getSFX("country")){a.selectedCountry(getSFX("country").toUpperCase());
lmsGetStates(a)
}if(getSFX("state")){lmsGetStates(a,getSFX("state"));
a.activateCity(true)
}if(getSFX("city")){lmsGetCities(a,getSFX("city"))
}if(getSFX("customer")){a.deal_customer(getSFX("customer"))
}};
var lmsGetStates=function(c,b){if(!c.selectedCountry()){return null
}c.cities([]);
c.activateCity(false);
var a=c.statesJSON+"/country="+c.selectedCountry()+".json";
$.ajax({url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(d){c.hasCountry(true);
c.statesProvinces([]);
if(!$.isEmptyObject(d.statesProvinces)){c.activateCity(false);
$.each(d.statesProvinces,function(e,f){c.statesProvinces.push({id:f.stateProvinceCode,name:f.name});
if(f.stateProvinceCode===getSFX("state")){c.searchedState(f.name)
}});
if(b){c.selectedState(b);
c.activateCity(true)
}}else{c.selectedState([]);
lmsGetCities(c,b)
}}})
};
var lmsGetCities=function(b){b.activateCity(true);
b.cities([]);
if(b.selectedCountry()=="US"||b.selectedCountry()=="CA"){if(!b.selectedState()){return null
}}if(b.selectedState()&&b.selectedState().length){var a=b.citiesJSON+"/country="+b.selectedCountry()+"/stateProvince="+b.selectedState()+".json"
}else{b.hasCountry(false);
b.statesProvinces([]);
var a=b.citiesJSON+"/country="+b.selectedCountry()+".json"
}$.ajax({url:a,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(c){$.each(c.cities,function(d,e){b.cities.push({id:e.cityCode,name:e.name});
if(e.cityCode===getSFX("city")){b.searchedCity(e.name)
}});
if(getSFX("city")&&b.check()){b.selectedCity(getSFX("city"));
b.check(false)
}}})
};
var lmsDealFinder=function(a){var b=this;
this.statesAndProvinces=ko.observableArray([]);
this.stateSelect=ko.observable();
this.hasState=ko.observable(false);
$.each(a.statesProvinces,function(c,d){b.statesAndProvinces.push({id:d.stateProvinceCode,name:d.name})
});
this.stateSelect.subscribe(function(){if(b.stateSelect()){b.hasState(true)
}else{b.hasState(false)
}},this)
};
$(".sitemap div h6, .moreLinks div h6").live("click",function(){if($(window).width()<1024){if($(this).next().css("display")=="none"){$(this).toggleClass("open");
$(this).next().show()
}else{$(this).removeClass("open");
$(this).next().hide()
}}else{$(this).removeClass("open");
$(this).next().show()
}});
$(function(){var b=$(window).width();
var a=$(window).height();
var c=null;
footerTwistyDefaultState();
$(window).resize(function(){var e=$(window).width();
var d=$(window).height();
if(b!==e||a!==d){window.clearTimeout(c);
c=window.setTimeout(footerTwistyDefaultState,10)
}b=e;
a=d
})
});
function footerTwistyDefaultState(){if($(window).width()>1023){$(".sitemap div h6").removeClass("open").next().show();
$(".moreLinks div h6").removeClass("open").next().css("display","inline-block")
}else{$(".sitemap div h6, .moreLinks div h6").removeClass("open").next().hide()
}}$(document).ready(function(){$("ul.tabToggleSet li").click(function(){var a=$(this).attr("data-tab");
$(this).siblings().removeClass("current");
$(this).parent().parent().find(".tabToggleContent.current").removeClass("current");
$(this).addClass("current");
$(this).parent().parent().find(".tabToggleContent."+a).addClass("current")
})
});
function OneClick(h){try{var k=this;
this.pickUpDate=h.pickUpDate;
this.dropOffDate=h.dropOffDate;
var f;
f=h.pickUpDate.split(" ");
this.pickUpDates=f[0]+" "+f[1]+" "+f[2]+" "+f[3];
if(f.length>5){this.pickUpTime=f[4]+" "+f[5]
}else{this.pickUpTime=f[4]
}var e;
e=h.dropOffDate.split(" ");
this.dropOffDates=e[0]+" "+e[1]+" "+e[2]+" "+e[3];
if(e.length>5){this.dropOffTime=e[4]+" "+e[5]
}else{this.dropOffTime=e[4]
}var b=(typeof h.oneWayReservation==="undefined")?false:h.oneWayReservation;
this.isOneWayRes=ko.observable(b);
if(b===true){this.dropOffLocationName=h.dropOffLocation.locationName;
this.isDropOffAirportCode=(typeof h.dropOffLocation.airportCode===null)?false:true;
this.dropOffAirportCode=(typeof h.dropOffLocation.airportCode===null)?"":h.dropOffLocation.airportCode;
this.isdropOffAirportLoacation=h.dropOffLocation.airportLocation
}this.pickUpLocationName=h.pickUpLocation.locationName;
this.isPickUpAirportCode=(typeof h.pickUpLocation.airportCode===null)?false:true;
this.pickUpAirportCode=(typeof h.pickUpLocation.airportCode===null)?"":h.pickUpLocation.airportCode;
var a=(typeof h.coveragesTranslations==="undefined")?false:true;
this.isProtectionsAvailable=ko.observable(a);
if(a){this.coverages=ko.observableArray(h.coveragesTranslations);
$.each(this.coverages(),function(l,m){this.name=ko.observable(m.name)
})
}var d=(typeof h.equipmentTranslations==="undefined")?false:true;
this.isAddonAvailable=ko.observable(d);
if(d){this.addons=ko.observableArray(h.equipmentTranslations);
$.each(this.addons(),function(m,l){this.name=ko.observable(l.name)
})
}this.estimatedTotal=ko.observable(h.estimatedTotal);
this.currencySymbol=ko.computed(function(){return getCurrency(h.currencyCode)
},this);
this.cardNameAvailable=(h.cardType===null)?false:true;
this.cardName=h.cardType;
this.cardNumberAvailable=(h.lastFourDigits===null)?false:true;
this.lastFourDigits=h.lastFourDigits;
this.carName=h.carName;
this.customerAvailable=(typeof h.customerName==="undefined")?false:true;
this.customerName=(typeof h.customerName==="undefined")?"":h.customerName;
this.isOneClickWayfindingAvailableOne=ko.observable(null!==h.wayFindingData&&h.wayFindingData.wayFindingDataOne);
var g=h.wayFindingData;
this.oneClickShortDescriptionOne=ko.observable("");
if(this.isOneClickWayfindingAvailableOne()){this.oneClickShortDescriptionOne=ko.observable(g.shortDescriptionOne)
}}catch(c){hideModal()
}}$(document).ready(function(){$("dl.twistyContainer dt").click(function(){$(this).parent().toggleClass("open")
})
});
doi.stoptime;
doi.adaptive=function(){var b=$(window).width();
var a=$("div[data-picture] div");
$("div[data-picture] img.doi-ai").remove();
switch(true){case b>960:a=a.eq(5);
break;
case (b>=768)&&(b<960):a=a.eq(4);
break;
case (b>=540)&&(b<768):a=a.eq(3);
break;
case (b>=480)&&(b<540):a=a.eq(2);
break;
case (b>=320)&&(b<480):a=a.eq(1);
break;
default:a=a.eq(0)
}$("div[data-picture]").append($("<img>",{"class":"doi-ai",alt:$(this).attr("data-alt"),src:a.attr("data-src")}))
};
$(function(){doi.adaptive()
});
$(window).resize(function(){clearTimeout(doi.stoptime);
doi.stoptime=setTimeout(function(){doi.adaptive()
},200)
});
var knownAgentCookie=getKnownAgentCookieValue();
var cookiedFullName=knownAgentCookie.firstName+" "+knownAgentCookie.lastName;
var cookiedFirstName=knownAgentCookie.firstName;
var cookiedLastName=knownAgentCookie.lastName;
var cookiedUserName=knownAgentCookie.agentid;
$(document).ready(function(){if(cookiedFullName!=" "&&cookiedFullName.length>0){$(".UserLogin").show()
}});
if(!Object.keys){Object.keys=(function(){var c=Object.prototype.hasOwnProperty,d=!({toString:null}).propertyIsEnumerable("toString"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=b.length;
return function(g){if(typeof g!=="object"&&(typeof g!=="function"||g===null)){throw new TypeError("Object.keys called on non-object")
}var e=[],h,f;
for(h in g){if(c.call(g,h)){e.push(h)
}}if(d){for(f=0;
f<a;
f++){if(c.call(g,b[f])){e.push(b[f])
}}}return e
}
}())
}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(b){if(this==null){throw new TypeError('"this" is null or not defined')
}var f=Object(this);
var a=f.length>>>0;
if(typeof b!=="function"){throw new TypeError("predicate must be a function")
}var c=arguments[1];
var d=0;
while(d<a){var e=f[d];
if(b.call(c,e,d,f)){return e
}d++
}return undefined
}})
}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(d,e){if(this==null){throw new TypeError('"this" is null or not defined')
}var f=Object(this);
var a=f.length>>>0;
if(a===0){return false
}var g=e|0;
var c=Math.max(g>=0?g:a-Math.abs(g),0);
function b(h,k){return h===k||(typeof h==="number"&&typeof k==="number"&&isNaN(h)&&isNaN(k))
}while(c<a){if(b(f[c],d)){return true
}c++
}return false
}})
}if(!String.prototype.includes){String.prototype.includes=function(a,b){if(typeof b!=="number"){b=0
}if(b+a.length>this.length){return false
}else{return this.indexOf(a,b)!==-1
}}
}function prepareForSuffix(b){var c=b;
var a=".sfx.json";
if(c.indexOf(a)!==(c.length-a.length)){var e=".json";
var d=c.lastIndexOf(e);
if(-1!==d){c=c.substring(0,c.length-e.length)
}}return c
}function refreshCaptcha(){var b=new Date();
var a=b.getMilliseconds();
$("#captchaimg").attr("src",function(){var c=$(this).attr("src");
return c.split("?")[0]+"?timestamp="+a
})
}$(function(){$(".captcha").live("click",function(a){a.preventDefault();
refreshCaptcha()
})
});
$(function(){if(isWebStorage("sessionStorage")){var a=$(".adchoices-banner");
if(a.length!==0){if(sessionStorage.getItem("viewedAdChoices")==="true"){a.hide()
}else{$("body").prepend(a);
a.show();
sessionStorage.setItem("viewedAdChoices","true")
}}}});
function InsiderDeepLinks(a){var c=this;
this.email=ko.observable(a.email);
this.firstName=ko.observable(a.firstName);
this.lastName=ko.observable(a.lastName);
this.postalCode=ko.observable(a.postalCode);
this.sourceCode=ko.observable(a.sourceCode);
var b="";
this.countryOfResidence=ko.observable(a.signupModel.countryOfResidence);
if(null!=a.signupModel&&(typeof countryOfResidenceDropDown!="undefined")&&null!=countryOfResidenceDropDown&&null!=a.signupModel.countryOfResidence){this.sourceCode;
$.each(countryOfResidenceDropDown,function(d,e){if(e.value==a.signupModel.countryOfResidence){b=e.text
}})
}this.countryOfResidenceResidentLabel=ko.observable(b);
this.countryOfResidenceResidentCheck=null==a.signupModel?ko.observable(false):ko.observable(a.signupModel.countryOfResidenceResident);
this.emailPromotionsOptOutForCAuser=ko.observable(true);
this.emailPromotionsOptOutForCAuserHandler=function(){c.emailPromotionsOptOutForCAuser(false)
}
}$(function(){$(".dismiss-btn").live("click",function(){$(this).parent().remove();
$(window).trigger("scroll")
})
});
function isWebStorage(b){try{var d=window[b],a="__storage_test__";
d.setItem(a,a);
d.removeItem(a);
return true
}catch(c){return false
}};